<link rel="stylesheet" href="/css/main.css">

<%- include('partials/navbar', {page: '' }) %>
 
<div class="container mx-auto px-4">
    <div class="py-8">
        <h1 class="text-3xl font-bold mb-4">Edit Set: <%= set.name %></h1>
 
        <form action="/lego/editSet" method="POST" class="max-w-lg">
            <!-- Previous form fields remain the same -->
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="set_num">
                    Set Number
                </label>
                <input 
                    type="text"
                    id="set_num"
                    name="set_num"
                    value="<%= set.set_num %>"
                    readonly
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline cursor-not-allowed"
                >
            </div>
 
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="name">
                    Name
                </label>
                <input 
                    type="text"
                    id="name"
                    name="name"
                    value="<%= set.name %>"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                >
            </div>
 
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="year">
                    Year
                </label>
                <input 
                    type="number"
                    id="year"
                    name="year"
                    value="<%= set.year %>"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                >
            </div>
 
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="theme_id">
                    Theme
                </label>
                <select 
                    id="theme_id"
                    name="theme_id"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                >
                    <% themes.forEach(theme=>{ %>
                        <option <%= (set.theme_id == theme.id) ? "selected" : "" %> value="<%= theme.id %>">
                            <%= theme.name %>
                        </option>
                    <% }) %>
                </select>
            </div>
 
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="num_parts">
                    Number of Parts
                </label>
                <input 
                    type="number"
                    id="num_parts"
                    name="num_parts"
                    value="<%= set.num_parts %>"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                >
            </div>
 
            <div class="mb-4">
                <label class="block text-gray-700 text-sm font-bold mb-2" for="img_url">
                    Image URL
                </label>
                <input 
                    type="text"
                    id="img_url"
                    name="img_url"
                    value="<%= set.img_url %>"
                    class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                >
            </div>
 
            <div class="flex gap-4">
                <button type="submit" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                    Update Set
                </button>
 
                <a href="/lego/deleteSet/<%= set.set_num %>" 
                   class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
                   onclick="return confirm('Are you sure you want to delete this set?')">
                    Delete Set
                </a>
            </div>
        </form>
    </div>
</div>